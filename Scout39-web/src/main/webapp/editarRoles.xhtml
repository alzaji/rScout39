<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<ui:composition template="templates/principal.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">


    <ui:define name="title">Coordinador</ui:define>    
    <ui:define name="link1"><h:link class="nav-link text-color" outcome="editarUsuarios.xhtml" value="Editar usuarios"/></ui:define>
    <ui:define name="link2"><h:link class="nav-link text-color" outcome="editarRoles.xhtml" value="Roles"/></ui:define>
    <ui:define name="seccionnav"> Roles</ui:define>
    <ui:define name="tablaUsuarios">


        <center> 
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-default mt-4" data-toggle="modal" data-target="#exampleModal">
                Crear nuevo rol
            </button>         
            <div class="col-md-8">
                <!--Table-->
                <table class="table table-striped table-responsive-md btn-table">

                    <!--Table head-->
                    <thead>
                        <tr>
                            <th>CÃ³digo</th>
                            <th>Nombre</th>
                            <th>Modificar</th>
                            <th>Eliminar</th>
                        </tr>
                    </thead>
                    <!--Table head-->

                    <!--FILAS DE LA TABLA, EL CUERPO-->

                    <c:forEach  items="#{login.roles}" var="roles">                        
                        <tbody>
                            <tr>
                                <th scope="row" >#{roles.id}</th>
                                <td>#{roles.nombrerol}</td>

                                <td>                                    
                                    <button type="button" class="btn btn-orange btn-rounded mb-4 btn-sm my-0" data-toggle="modal" data-target="#modalEditRol#{roles.id.toString()}">Modificar</button>
                                </td>      
                                <td>
                                    <button type="button" class="btn btn-danger btn-rounded mb-4 btn-sm my-0" data-toggle="modal" data-target="#removeModal">Eliminar</button>
                                </td>
                            </tr>
                        </tbody>
                        <!--Modal: Edit USER-->
                        <div class="modal fade" id="modalEditRol#{roles.id.toString()}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header text-center">
                                        <h4 class="modal-title w-100 font-weight-bold">Modificar Rol</h4>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">x</span>
                                        </button>
                                    </div>
                                    <div class="modal-body mx-3">
                                        <h:form id="formEditRol#{roles.id.toString()}">
                                            <!-- Material input text -->
                                            <div class="md-form">
                                                <i class="fa prefix grey-text"></i>
                                                <h:inputText class="form-control" id="modificarNombre" value="#{roles.idrol}"/>
                                                <h:outputLabel>Nombre</h:outputLabel>
                                            </div>

                                            <div class="md-form">
                                                <i class="fa prefix grey-text"></i>
                                                <h:inputText class="form-control" id="modificarRol" value="#{roles.nombrerol}"/>
                                                <h:outputLabel>Rol</h:outputLabel>
                                            </div>

                                            <div class="text-center mt-4">
                                                <h:commandButton  class="btn btn-orange" value="Modificar Usuario" action="#{controlUsuario.doModificarUsuario(usuario)}"/>
                                            </div>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </c:forEach> 
                    <!--Table body-->

                </table>

                <!--Table-->

            </div>
        </center>
    </ui:define>
    <ui:define name="sectionh">Novedades</ui:define>

</ui:composition>
